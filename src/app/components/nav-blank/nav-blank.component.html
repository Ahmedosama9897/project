<div class="testt">
    <header>
        <div class="bg-main px-10">
            <div class="container mx-auto">
                <div class="flex justify-between text-white items-center py-2">
                    <p class="m-0">{{ address }}</p>
                    <p class="m-0">
                        Something you love is now on sale! <a href="#" class="text-white font-bold">Buy Now!</a>
                    </p>
                    <div class="relative flex">
                        <button type="button"
                            class="text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 shadow-lg shadow-green-500/50 dark:shadow-lg dark:shadow-green-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2">
                            <a class="text-white cursor-pointer" (click)="_AuthService.logOut()">Sign Out</a>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="my-6 px-5">
            <div class="flex flex-wrap items-center justify-between gap-4 py-3">
                <!-- Logo + Text -->
                <div class="logo-container">
                    <h1 class="logo-text">SDFA</h1>
                    <span class="sub-text">online market</span>
                </div>

                <!-- Search -->
                <div class="flex items-center flex-grow gap-3 lg:w-1/2 transition-all duration-300">
                    <button class="text-main p-2 bg-transparent border-0 hover:text-primary transition">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <div class="relative flex-grow">
                        <input type="text"
                            class="p-2 w-full pl-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300"
                            placeholder="I'm searching for..." />
                    </div>
                </div>

                <!-- Contact + Icons -->
                <div class="flex items-center gap-5 lg:w-auto flex-wrap">
                    <!-- Contact -->
                    <div class="flex items-center transition-all duration-300 hover:scale-105">
                        <i class="fa-solid fa-phone-volume text-gray-700"></i>
                        <div class="flex flex-col pl-2">
                            <span class="text-gray-600 text-sm">24/7 Delivery</span>
                            <span class="font-semibold text-base">{{ contactNumber }}</span>
                        </div>
                    </div>

                    <!-- Wishlist -->
                    <a class="relative p-2 hover:text-primary transition-all duration-300"
                        routerLinkActive="active-link" routerLink="wishlist">
                        <i class="fa-solid fa-heart text-xl"></i>
                        <span *ngIf="wishDetails?.length" class="badge">{{ wishDetails.length }}</span>
                    </a>

                    <!-- Cart -->
                    <a class="relative p-2 hover:text-primary transition-all duration-300"
                        routerLinkActive="active-link" routerLink="cart">
                        <i class="fa-solid fa-cart-shopping text-xl"></i>
                        <span *ngIf="cartDetails?.length" class="badge bg-blue-600">{{ cartDetails.length }}</span>
                    </a>

                    <!-- Loading Spinner -->
                    <div *ngIf="isLoading" class="flex justify-center items-center py-10">
                        <div class="loader"></div>
                    </div>

                    <!-- Profile -->
                    <div routerLink="profile/prof"
                        class="flex items-center space-x-3 group cursor-pointer transition-all duration-300 ease-in-out hover:scale-105">
                        <a
                            class="relative w-10 h-10 rounded-full overflow-hidden border-2 border-gray-300 hover:border-green-500 transition duration-300">
                            <img src="https://api.dicebear.com/9.x/adventurer/svg?seed=Jocelyn" alt="avatar"
                                class="w-full h-full object-cover" />
                        </a>
                        <div class="flex flex-col">
                            <span
                                class="text-sm text-gray-600 group-hover:text-gray-800 transition duration-300">Hello,</span>
                            <span class="font-semibold group-hover:text-green-600 transition duration-300">My
                                Account</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation + Dropdown + Filter -->
            <div class="flex flex-col md:flex-row items-center justify-between py-2">
                <!-- All Categories Button -->
                <div class="w-full md:w-1/4 flex justify-center md:justify-start mb-2 md:mb-0 ms-5">
                    <div class="relative inline-block" id="dropdownWrapper">
                        <button (click)="toggleDropdown()"
                            class="bg-green-500 text-white py-2 px-4 rounded-md flex items-center transition duration-300 ease-in-out hover:bg-green-600 hover:scale-105 focus:outline-none">
                            All Categories
                            <i class="fa-solid fa-chevron-down ml-2"></i>
                        </button>
                        <ul [ngClass]="{ 'hidden': !isDropdownOpen }"
                            class="absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-50 transition-all duration-200">
                            <li><a class="block px-4 py-2 hover:bg-gray-100 text-gray-700 text-base" href="#">Category
                                    1</a></li>
                            <li><a class="block px-4 py-2 hover:bg-gray-100 text-gray-700 text-base" href="#">Category
                                    2</a></li>
                            <li><a class="block px-4 py-2 hover:bg-gray-100 text-gray-700 text-base" href="#">Category
                                    3</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Nav Links -->
                <div class="w-full md:w-1/2">
                    <ul class="flex flex-col sm:flex-col md:flex-row flex-wrap justify-center md:justify-around">
                        <li><a class="nav-link" routerLink="home" routerLinkActive="active-link">Home</a></li>
                        <li><a class="nav-link" routerLink="organic" routerLinkActive="active-link">Product</a></li>
                        <li><a class="nav-link" routerLink="wishlist" routerLinkActive="active-link">Wish list</a></li>
                        <li><a class="nav-link" routerLink="brand" routerLinkActive="active-link">Brand</a></li>
                        <li><a class="nav-link" routerLink="pages" routerLinkActive="active-link">Pages</a></li>
                        <li><a class="nav-link" routerLink="chatbot" routerLinkActive="active-link">Chatbot</a></li>
                        <li><a class="nav-link" routerLink="comparison" routerLinkActive="active-link">Compare</a></li>
                    </ul>
                </div>

                <!-- Filter Button -->
                <div class="flex justify-end mb-4">
                    <button (click)="showFilters = true"
                        class="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white px-6 py-2 rounded-full shadow-lg transition-all duration-300">
                        <i class="fa-solid fa-sliders mr-2"></i> Filters
                    </button>
                </div>

                <!-- Overlay -->
                <div *ngIf="showFilters"
                    class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center transition-opacity duration-300">
                    <div class="bg-white w-full max-w-5xl mx-auto p-8 rounded-3xl shadow-2xl relative animate-fade-in">
                        <button (click)="showFilters = false"
                            class="absolute top-5 right-5 text-gray-500 hover:text-red-600 text-xl transition duration-200">
                            <i class="fa-solid fa-xmark"></i>
                        </button>

                        <h2 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fa-solid fa-filter mr-2 text-blue-600"></i> Advanced Product Filters
                        </h2>

                        <form [formGroup]="filterForm">
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                <!-- Filter Inputs -->
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1">Search</label>
                                    <input type="text" formControlName="searchQuery"
                                        class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all" />
                                </div>
                                <div>
                                    <label for="countries" for="countries"
                                        class="block text-sm text-gray-600 mb-1">Category</label>
                                    <select name="Category_ID" (change)="onCategoryChange($event)"
                                        formControlName="categry" id="countries"
                                        class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all">
                                        <option value=null selected>Select Category</option>
                                        @for (item of categoryList; track $index) {
                                        <option value="{{ item.Category_ID }}">
                                            {{ item.Category_Name }}
                                        </option>

                                        }

                                    </select>
                                    <div>
                                        <label for="countries2"
                                            class="block text-sm text-gray-600 mb-1">SubCategory</label>

                                        <select name="Sub_Category_ID" (change)="onSubCategoryChange($event)"
                                            id="countries2" formControlName="subCategry"
                                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                            <option value=null selected>Select Sub Category</option>
                                            @for (item of subCategoryList; track $index) {
                                            <option value="{{ item.Sub_Category_ID }}">
                                                {{ item.Sub_Category_Name }}
                                            </option>

                                            }
                                            <!-- <option value="1">Smartphones</option>
      <option value="3">Tablets</option>
      <option value="2">Laptops</option>
      <option value="FR">Refrigerators</option>
      <option value="DE">Clothing for Men</option>
      <option value="7">Tvs</option>
      <option value="4">SmartWatches</option>
      <option value="19">PCs</option> -->
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">Min Price</label>
                                        <input type="number" formControlName="minPrice"
                                            class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all" />
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">Max Price</label>
                                        <input type="number" formControlName="maxPrice"
                                            class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all" />
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">Min Rate</label>
                                        <input type="number" formControlName="minRate" min="0" max="5"
                                            class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all" />
                                    </div>
                                    <!-- Checkboxes -->
                                    <div class="col-span-1 flex items-center space-x-3">
                                        <input type="checkbox" formControlName="mostViewed"
                                            class="w-5 h-5 text-blue-600" />
                                        <label class="text-gray-700">Most Viewed</label>
                                    </div>
                                    <div class="col-span-1 flex items-center space-x-3">
                                        <input type="checkbox" formControlName="newwest"
                                            class="w-5 h-5 text-blue-600" />
                                        <label class="text-gray-700">Newest</label>
                                    </div>
                                    <div class="col-span-1 flex items-center space-x-3">
                                        <input type="checkbox" formControlName="mostSold"
                                            class="w-5 h-5 text-blue-600" />
                                        <label class="text-gray-700">Most Sold</label>
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">Page</label>
                                        <input type="number" formControlName="pageNumber"
                                            class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all" />
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">Page Size</label>
                                        <input type="number" formControlName="pageSize"
                                            class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all" />
                                    </div>
                                </div>

                                <!-- Apply Button -->
                                <div class="mt-8 text-right">
                                    <button type="button" (click)="applyFilters()"
                                        class="bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-6 py-2 rounded-xl shadow-md transition hover:scale-105">
                                        <i class="fa-solid fa-check mr-2"></i> Apply Filters
                                    </button>
                                </div>
                            </div>


                        </form>
                    </div>
                </div>
            </div>
        </div>
    </header>
</div>