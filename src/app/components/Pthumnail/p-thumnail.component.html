<section>
    <div class="mx-20">
        <div class="flex">

            <div class="flex flex-col image ">
                <div class="my-1">
                    <img src="./assets/images/1.jpg.png" alt="">
                </div>
                <div class="my-1">
                    <img src="./assets/images/1.jpg.png" alt="">
                </div>
                <div class="my-1">
                    <img src="./assets/images/1.jpg.png" alt="">
                </div>
                <div class="my-1">
                    <img src="./assets/images/1.jpg.png" alt="">
                </div>

            </div>







            <div class="image2">
                <div class="my-7 w-64 h-64">
                    <img [attr.src]=" 'http://sm-ecommerce.runasp.net/' +detailsProduct?.Data?.Image_Cover"
                        class="w-full     rounded-md" [alt]="detailsProduct?.Data?.Category_Name">
                </div>
            </div>




            <!-- <p class="text-sm text-blue-600 font-bold mt-2 mx-2">{{ detailsProduct?.Data?.Item_Name }}</p> -->






            <div class="">
                <h1 class="m-3">
                    {{detailsProduct?.Data?.Item_Name}}
                </h1>
                <p class="m-3"> {{detailsProduct?.Data?.Price_out | currency: 'GBP'}} </p>

                <!-- <p class="Lollipop m-3">Lollipop cake chocolate chocolate cake dessert jujubes.
                    Shortbread sugar plum dessert powder cookie sweet brownie.
                    Cake cookie apple pie dessert sugar plum muffin cheesecake.</p> -->
                <p class="m-3">
                    Hurry up! Sales Ends In
                </p>

                <p class="m-3">TIME</p>



                <h2 class="m-3">Store Information</h2>


                <div class="flex">

                    <a class="nav-link p-2" routerLink="compare" routerLinkActive="active-link">
                        <button type="button"
                            class="btn-mainn btn-mainn w-52  text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800">compare
                            with similar</button>
                    </a>
                    <a class="nav-link p-2" routerLink="compare" routerLinkActive="active-link">
                        <button type="button"
                            class="btn-mainn btn-mainn w-52  text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800">Add
                            to Cart +</button>
                    </a>
                </div>





                <!-- <div class="type ">
                    <p class="p-type">Type : <span class="text-black font-bold">Black Forest</span> </p>
                    <p class="p-type">SKU : <span class="text-black font-bold">SDFVW65467</span> </p>
                    <p class="p-type">MFG : <span class="text-black font-bold">Jun 4, 2022</span> </p>
                    <p class="p-type">Stock : <span class="text-black font-bold">2 Items Left</span> </p>
                    <p class="p-type">Tags : <span class="text-black font-bold">Cake, Backery</span> </p>
                </div> -->

                <!-- <div class="mt-10">
                    <p>Guaranteed Safe Checkout</p>
                    <div class="mt-2">
                        <img src="./assets/images/List.png" alt="">
                    </div>

                </div> -->


            </div>

            <div>

                <div class="m-10">
                    <img src="./assets/images/div.vendor-contain.png" alt="">
                    <p class="my-4 p-noodles">Noodles & Company is an American fast-casual
                        restaurant that offers international and
                        American noodle dishes and pasta.</p>
                    <div>
                        <p class="my-3">Address: <span class="s-noodles">1288 Franklin avenu </span> </p>
                    </div>
                    <div>
                        <p>Contact Seller: <span class="s-noodles">(+1)-123-456-789</span></p>
                    </div>


                </div>
            </div>

        </div>

        <div class="gap-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 mb-5">
            <div class="lg:col-span-8">
                <div class="description w-auto">
                    <p class="m-3"> {{detailsProduct?.Data?.Description }} </p>
                    <!-- <p>Jelly beans carrot cake icing biscuit oat cake gummi bears tart. Lemon drops carrot cake pudding
                        sweet gummi bears. Chocolate cake tart cupcake donut topping liquorice
                        sugar plum chocolate bar. Jelly beans tiramisu caramels jujubes biscuit liquorice chocolate.
                        Pudding
                        toffee jujubes oat cake sweet roll. Lemon drops dessert croissant danish
                        cake cupcake. Sweet roll candy chocolate toffee jelly sweet roll halvah brownie topping.
                        Marshmallow
                        powder candy sesame snaps jelly beans candy canes marshmallow
                        gingerbread pie.</p> -->
                    <div>
                        <div class="mt-16 bg-white p-6 rounded-lg shadow-xl border border-gray-200">
                            <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                                💬 Product Reviews
                            </h2>

                            <!-- ✅ No Reviews Message -->
                            <div *ngIf="productReviews.length === 0" class="text-gray-500 italic mb-6 text-center">
                                No reviews yet. Be the first to leave one!
                            </div>

                            <!-- ✅ Reviews List with Scroll -->
                            <div *ngIf="productReviews.length > 0" class="mb-4 space-y-4 overflow-y-auto"
                                style="max-height: 400px; padding-right: 8px;">

                                <div *ngFor="let review of productReviews" [@fadeSlideIn]
                                    class="p-5 bg-gray-50 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition">

                                    <div class="flex items-center gap-3 mb-2">
                                        <div
                                            class="bg-green-100 text-green-700 w-8 h-8 flex items-center justify-center rounded-full text-sm font-bold">
                                            {{ review.Buyer_Name[0] || '?' }}
                                        </div>
                                        <p class="font-medium text-green-700">
                                            {{ review.Buyer_Name || 'Anonymous' }}
                                        </p>
                                    </div>

                                    <p class="text-gray-800 mb-1">{{ review.Comment }}</p>

                                    <div class="text-yellow-400">
                                        <ng-container *ngFor="let star of [1,2,3,4,5]">
                                            <i class="fa-solid fa-star transition-all duration-300"
                                                [class.opacity-30]="review.Rating < star"></i>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>

                            <!-- ✅ Add New Review -->
                            <div class="mt-10 p-5 bg-gray-50 rounded-lg border border-gray-100 shadow-inner">
                                <h3 class="text-lg font-semibold mb-3 text-gray-700">Add your comment</h3>

                                <textarea #commentBox rows="3"
                                    class="w-full border border-gray-300 rounded-md p-3 mb-4 focus:outline-none focus:ring-2 focus:ring-green-500"
                                    placeholder="Write your review here..."></textarea>

                                <div class="flex items-center gap-3 mb-4">
                                    <label class="text-sm text-gray-600">Rating:</label>
                                    <div class="text-yellow-400 text-xl flex gap-1">
                                        <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
                                            <i class="fa-solid fa-star cursor-pointer transition-all duration-300"
                                                [class.opacity-30]="newRating < star" (click)="setRating(star)">
                                            </i>
                                        </ng-container>
                                    </div>
                                </div>

                                <button (click)="submitReview(commentBox.value, newRating.toString())"
                                    class="bg-green-600 hover:bg-green-700 text-white font-medium px-6 py-2 rounded-md transition duration-300">
                                    Submit Review
                                </button>
                            </div>

                        </div>



                    </div>




                </div>
            </div>

            <div class="lg:col-span-4">
                <div class="type my-8">
                    <p class="p-type">Type : <span class="text-black font-bold">Black Forest</span> </p>
                    <p class="p-type">SKU : <span class="text-black font-bold">SDFVW65467</span> </p>
                    <p class="p-type">MFG : <span class="text-black font-bold">Jun 4, 2022</span> </p>
                    <p class="p-type">Stock : <span class="text-black font-bold">2 Items Left</span> </p>
                    <p class="p-type">Tags : <span class="text-black font-bold">Cake, Backery</span> </p>


                </div>
                <div class=" mt-5">
                    <div class="Fresh ">
                        <div>
                            <img src="./assets/images/div.home-contain 3.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="my-20 px-6">
        <div class="bg-white p-6 rounded-lg shadow-md border">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">🛒 Related Products</h2>

            <!-- ✅ شبكة المنتجات -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">

                <!-- ✅ كرت منتج -->
                <div class="border rounded-lg shadow-sm hover:shadow-md p-4 transition">
                    <img src="../../../assets/images/Link → cake.png" alt="cake"
                        class="w-full h-36 object-contain mb-3">
                    <p class="text-sm font-semibold text-gray-700">Cake</p>
                    <p class="text-xs text-gray-500 mb-1">Chocolate chip cookies 250g</p>

                    <div class="text-yellow-400 text-sm mb-2">
                        <i class="fa-solid fa-star" *ngFor="let i of [1,2,3,4,5]"></i>
                    </div>

                    <p class="text-sm text-gray-600 mb-1">1 KG</p>
                    <p class="font-bold text-black mb-3">$80.00</p>

                    <button type="button"
                        class="w-full text-green-700 hover:text-white border border-green-700 hover:bg-green-800 font-medium rounded-md text-sm px-4 py-2 transition">
                        Add +
                    </button>
                </div>

                <!-- 🔁 كرر الكرت مع تغيير البيانات والصورة لكل منتج -->
                <div class="border rounded-lg shadow-sm hover:shadow-md p-4 transition">
                    <img src="../../../assets/images/pastry.png" alt="pastry" class="w-full h-36 object-contain mb-3">
                    <p class="text-sm font-semibold text-gray-700">Vegetable</p>
                    <p class="text-xs text-gray-500 mb-1">Fresh Bread and Pastry Flour 200g</p>
                    <div class="text-yellow-400 text-sm mb-2">
                        <i class="fa-solid fa-star" *ngFor="let i of [1,2,3,4,5]"></i>
                    </div>
                    <p class="text-sm text-gray-600 mb-1">1 KG</p>
                    <p class="font-bold text-black mb-3">$80.00</p>
                    <button
                        class="w-full text-green-700 hover:text-white border border-green-700 hover:bg-green-800 font-medium rounded-md text-sm px-4 py-2 transition">Add
                        +</button>
                </div>

                <!-- ⬇️ باقي المنتجات بنفس التنسيق -->
                <!-- snacks.png -->
                <!-- snacks2.png -->
                <!-- chip.png -->

            </div>
        </div>
    </div>

</section>